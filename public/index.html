<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Basic index.html file</title>
    <link href="dist/bundle.css" rel="stylesheet">
  </head>
  <body>
    <div id="similar-listings"></div>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="dist/bundle.js"></script>
    <script>
      const getListingId = (path) => {
        const parts = path.split('/');
        if (parts[1] === 'listings') {
          const id = parseInt(parts[2], 10);
          if (typeof id === 'number' && id >= 0 && id < 200) {
            return id;
          }
        }
        return null;
      };

      // const listingId = getListingId(window.location.pathname) ||
      //             Math.floor(Math.random() * 200);
      const listingId = parseInt(window.location.pathname.slice(10, window.location.pathname.length - 1));
      console.log('listing id shown:', listingId);

      ReactDOM.render(
        React.createElement(SimilarListings, { id: listingId }),
        document.getElementById('similar-listings'),
      );
    </script>
  </body>
</html>
